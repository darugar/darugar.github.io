<html>
<head>
    <link rel="stylesheet" href="/css/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/css/parand.css">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans|Italianno' rel='stylesheet' type='text/css'>
    <title>RESTful URL Design For Search And Collections</title>
</head>

<body>

<div class="container">
    <div class="row navigation">
        <div class="span3">
            Parand Tony Darugar
        </div>
        <div class="span8 offset1">
            <span class="nav right"><a href="">About me</a></span>
            <span class="nav right"><a href="http://twitter.com/parand/">@parand</a></span>
            <span class="nav right">s@parand.com</span>
            <!-- span class="nav right"><input type="text" class="input-medium search-query"></span -->
            
        </div>
    </div>

    <div class="row headerrow">
        <div class="span7 heading"><a href="">RESTful URL Design For Search And Collections</a></div>
        <div class="span5 subheading text-right">A Cruel and Petty Dictator</div>
    </div>

    <!-- CONTENT -->
    <div class="row content">
        <div class="span12">
<p>I&#8217;m trying to find the appropriate design for RESTful design of URLs for search and for collections of items.</p>

<p>The setup: we have two models, Cars and Garages, where Cars can be in Garages. Base URLs:</p>

<pre><code>/car/xxx           (xxx = car id)
/garage/yyy     (yyy = garage id)</code></pre>

<p>Now we want to provide a search for cars - eg. show me all the blue sedans with 4 doors. What&#8217;s the appropriate URL?</p>

<pre><code>1  - /cars/color/blue/type/sedan/doors/4
2  - /cars/color:blue/type:sedan/doors:4
3  - /cars/?color=blue&amp;type=sedan&amp;doors=4
4  - /car/search/...</code></pre>

<p>None of these are satisfying.</p>

<p>1 through 3 use &#8220;cars&#8221; as the base (as opposed to &#8220;car&#8221;). So the pattern for doing searches / collections would be to pluralize the model. This seems ok.</p>

<p>1 has arbitrary ordering of the fields and no good way to distinguish fields versus their values. 2 is slightly better, but still doesn&#8217;t seem right.</p>

<p>3 uses the QUERYSTRING for the parameters instead of the PATHINFO, and frankly looks better to me, but I&#8217;ve heard of objections to using QUERYSTRING. The problem I have with it is it&#8217;s not consistent - if I was searching on a single field my URL would probably be: <code>/cars/color/red</code> or something like that. Having the URL drastically change form just because there are more search parameters seems wrong.</p>

<p>4 uses the &#8220;car&#8221; base url along with the verb &#8220;search&#8221;. That seems wrong - verbs shouldn&#8217;t be part of the URL, right? It&#8217;s been suggested several times though.</p>

<p>Now a slightly different case - let&#8217;s find all the cars in a given garage:</p>

<pre><code>1  - /garage/yyy/cars
2  - /cars/?garage=yyy</code></pre>

<p>1 seems pretty good in this case.</p>

<p>Please chime in with your thoughts, either in the comments here or in the <a href='/web/20101222040909/http://stackoverflow.com/questions/207477/restful-url-design-for-search'>Stackoverflow thread</a>.</p>
        </div>
    </div>

    <!-- div class="row contents">
        <div class="span12">
            <img class="img-polaroid" src="http://farm5.staticflickr.com/4148/5066965098_f73170bbf6_b.jpg">
        </div>
    </div>


    <div class="row contents">
        <div class="span12">
<em>What about our student loans?</em> asked one of the students.
        </div>
    </div -->

    <div class="row contents">
        <div class="span12 signature">
            Parand Tony Darugar - 16 Oct 2008
        </div>
    </div>

    <div class="row titlerow">
        <div class="span9 title">More:</div>
    </div>
    <div class="row ">
        <div class="span9 title">&raquo; Martin the Silly Rainbow</div>
        <div class="span3 title-details text-right">January 1st, 2013</div>
    </div>
    <div class="row ">
        <div class="span9 title">&raquo; If I Fell In Love With You</div>
        <div class="span3 title-details text-right">November 16th, 2013</div>
    </div>

</div>

</body>

</html>
